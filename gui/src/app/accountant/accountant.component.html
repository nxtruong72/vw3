<h1 style="margin: auto;align-content: center">Report</h1>
<div class="row">
  <div class="col-md-4"></div>
  <div class="col-md-8">
    <mat-radio-group [(ngModel)]="chosenItem" (change)="onRadioButtonChange()">
      <mat-radio-button style="margin-right: 20px;" value='today'>Today</mat-radio-button>
      <mat-radio-button style="margin-right: 20px;" value='yesterday'>Yesterday</mat-radio-button>
      <mat-radio-button style="margin-right: 20px;" value='this_week'>This week</mat-radio-button>
      <mat-radio-button style="margin-right: 20px;" value='last_week'>Last week</mat-radio-button>
    </mat-radio-group>
  </div>

  <div class="col-md-4"><button mat-raised-button color="primary" (click)="onClickMe()">Click me!</button></div>
  <div class="col-md-8">
    <mat-form-field style="margin-right: 20px;">
      <input matInput [matDatepicker]="from" placeholder="From date" [formControl]="fromDate">
      <mat-datepicker-toggle matSuffix [for]="from"></mat-datepicker-toggle>
      <mat-datepicker #from></mat-datepicker>
    </mat-form-field>
    <mat-form-field style="margin-right: 20px;">
      <input matInput [matDatepicker]="to" placeholder="To date" [formControl]="toDate">
      <mat-datepicker-toggle matSuffix [for]="to"></mat-datepicker-toggle>
      <mat-datepicker #to></mat-datepicker>
    </mat-form-field>
    <button mat-raised-button color="primary" (click)="onClickScan()">Scan</button>
  </div>
</div>

<div class="container content">
  <div *ngIf="bankerMap.size > 0">
    <mat-checkbox class="tp-margin" [(ngModel)]="isCheckAll" (change)="onCheckAll()">Check all</mat-checkbox>
  </div>

  <mat-accordion>
    <div class="data-div" *ngFor="let entry of bankerMap | keyvalue">
      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            <section class="tp-section">
              <mat-checkbox class="tp-margin" [(ngModel)]="entry.value.isChecked"
                (change)="onCheckBoxChange(entry.value)">{{entry.value.name | uppercase}}
              </mat-checkbox>
            </section>
          </mat-panel-title>
        </mat-expansion-panel-header>

        <div class="data-children" *ngFor="let accountant of entry.value.children | keyvalue">
          <mat-expansion-panel>
            <mat-expansion-panel-header>
              <mat-panel-title>
                <section class="tp-section">
                  <mat-checkbox class="tp-margin" [(ngModel)]="accountant.value.isChecked"
                    (change)="onCheckBoxChange(accountant.value)">
                    {{accountant.value.name | uppercase}}
                  </mat-checkbox>
                </section>
              </mat-panel-title>
              <mat-panel-description>
                {{accountant.value.note | uppercase}}
              </mat-panel-description>
            </mat-expansion-panel-header>

            <div style="background-color:rgb(202, 223, 230)" *ngIf="accountant.value.children.size > 0">
              <table class="table table-striped table-dark">
                <thead>
                  <th>Account</th>
                  <th>Turn over</th>
                  <th>Gross comm</th>
                </thead>
                <tbody>
                  <tr *ngFor="let account of accountant.value.children | keyvalue">
                    <td>{{account.value.name}}</td>
                    <td>{{account.value.turnOver}}</td>
                    <td>{{account.value.gross_common}}</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </mat-expansion-panel>
        </div>
      </mat-expansion-panel>
    </div>
  </mat-accordion>
</div>